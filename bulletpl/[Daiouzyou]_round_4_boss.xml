bulletML(vertical,[
  eaction(top,[
    fire(some(dirAbs(110)),some(spdAbs(3)),bulletRef(armSrc,[1])),
    fire(some(dirAbs(- 110)),some(spdAbs(3)),bulletRef(armSrc,[0])),
    wait(400)
  ]),
  ebullet(armSrc,bullet(none,none,[
    action([
      wait(12),
      fire(some(dirAbs(180)),some(spdAbs(1)),bulletRef(arm,[$1,1])),
      fire(some(dirAbs(60)),some(spdAbs(1)),bulletRef(arm,[$1,1])),
      fire(some(dirAbs(- 60)),some(spdAbs(1)),bulletRef(arm,[$1,1])),
      fire(some(dirAbs(180)),some(spdAbs(1)),bulletRef(arm,[$1,- 1])),
      fire(some(dirAbs(60)),some(spdAbs(1)),bulletRef(arm,[$1,- 1])),
      fire(some(dirAbs(- 60)),some(spdAbs(1)),bulletRef(arm,[$1,- 1])),
      vanish
    ])
  ])),
  ebullet(arm,bullet(none,none,[
    action([
      wait(12),
      fire(some(dirRel(180* $1)),none,bullet(none,none,[action([vanish])])),
      changeSpeed(spdAbs(0),1),
      repeat(400 div (6-rank*2),[
        action([
          wait(6-rank*2+rand),
          fire(some(dirSeq(11* $2)),some(spdAbs(1.5+rank*0.5)),bullet(none,none,[]))
        ])
      ]),
      vanish
    ])
  ]))
]).
