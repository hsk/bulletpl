bulletML(vertical,[
  eaction(top,[
    fire(some(dirAbs(0)),some(spdAbs(0)),bulletRef(dummy,[90])),
    fire(some(dirAbs(0)),some(spdAbs(0)),bulletRef(dummy,[270])),
    wait(100-rank*90),
    fire(some(dirAbs(0)),some(spdAbs(0)),bulletRef(allway,[0,1.5])),
    wait(5),
    fire(some(dirAbs(0)),some(spdAbs(0)),bulletRef(allway,[2.5,1.8])),
    wait(20)
  ]),
  ebullet(dummy,bullet(none,none,[
    action([
      fire(some(dirAbs($1)),some(spdAbs(0)),bulletRef(bit,[])),
      fire(some(dirAbs($1)),some(spdAbs(0.5)),bulletRef(bit,[])),
      fire(some(dirAbs($1)),some(spdAbs(1.0)),bulletRef(bit,[])),
      fire(some(dirAbs($1)),some(spdAbs(1.5)),bulletRef(bit,[])),
      vanish
    ])
  ])),
  ebullet(allway,bullet(none,none,[
    action([
      fire(some(dirAbs($1)),some(spdAbs($2)),bullet(none,none,[])),
      repeat(71,[action([fire(some(dirSeq(5)),some(spdAbs($2)),bullet(none,none,[]))])]),
      vanish
    ])
  ])),
  ebullet(bit,bullet(none,none,[
    action([
      wait(20),
      changeSpeed(spdAbs(0),1),
      wait(105-rank*90),
      repeat(20,[
        action([
          fire(some(dirAbs(180)),some(spdAbs(3)),bullet(none,none,[])),
          fire(some(dirAbs(180)),some(spdAbs(3.5)),bullet(none,none,[])),
          fire(some(dirAbs(180)),some(spdAbs(4)),bullet(none,none,[])),
          wait(1)
        ])
      ]),
      vanish
    ])
  ]))
]).
