bulletML(vertical,[
  eaction(top,[
    fire(some(dirAbs(360*rand)),none,bulletRef(dummy,[])),
    repeat(11,[action([fire(some(dirSeq(30)),none,bulletRef(dummy,[]))])]),
    wait(450-200*rank)
  ]),
  ebullet(dummy,bullet(none,some(spdAbs(0.0001)),[
    action([
      fire(some(dirRel(0)),some(spdAbs(0.6)),bulletRef(star,[])),
      wait(2),
      repeat(7,[
        action([fire(some(dirSeq(- 7)),some(spdSeq(0.05)),bulletRef(star,[])),wait(2)])
      ]),
      vanish
    ])
  ])),
  ebullet(star,bullet(none,none,[
    action([
      wait(55),
      changeSpeed(spdAbs(0.0001),1),
      wait(5),
      fire(some(dirRel(- 170)),some(spdAbs(0.6+0.7*rank)),bullet(none,none,[])),
      wait(5),
      repeat(3*4*rank,[
        action([fire(some(dirSeq(11)),some(spdSeq(0.05)),bullet(none,none,[])),wait(5)])
      ]),
      vanish
    ])
  ]))
]).
