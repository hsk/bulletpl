bulletML(vertical,[
  top:action([
    repeat(3,[
      action([
        fire(dirAbs(270),none,bulletRef(bm_seed,[- 25])),
        wait(20),
        fire(dirAbs(90),none,bulletRef(bm_seed,[25])),
        wait(100)
      ])
    ])
  ]),
  bm_seed:bullet(none,spdAbs(24),[
    action([
      wait(1),
      fire(none,none,bullet(dirAbs(180),spdAbs(3),[actionRef(bm,[])])),
      fire(none,none,bullet(dirSeq($1),spdAbs(2),[actionRef(bm,[])])),
      vanish
    ])
  ]),
  bm:action([
    changeSpeed(spdAbs(0),50),
    wait(45),
    fire(none,none,bulletRef(round,[1.5,0])),
    fire(none,none,bulletRef(round,[1.25,7])),
    fire(none,none,bulletRef(round,[1,14])),
    vanish
  ]),
  round:bullet(none,spdAbs(0),[
    action([
      fire(dirAbs($2),spdAbs($1),bullet(none,none,[])),
      repeat(10+ $rank*10,[action([fire(dirSeq(360/(10+ $rank*10)),spdAbs($1),bullet(none,none,[]))])]),
      vanish
    ])
  ])
]).
