bulletML(vertical,[
  top:action([
    repeat(3,[
      action([
        fire(dirAbs(270),spdAbs(1),bulletRef(bm_seed,[- 25])),
        wait(20),
        fire(dirAbs(90),spdAbs(1),bulletRef(bm_seed,[25])),
        wait(100)
      ])
    ])
  ]),
  bm_seed:bullet(dirAim(0),spdAbs(24),[
    action([
      wait(1),
      fire(dirAim(0),spdAbs(1),bullet(dirAbs(180),spdAbs(3),[actionRef(bm,[])])),
      fire(dirAim(0),spdAbs(1),bullet(dirSeq($1),spdAbs(2),[actionRef(bm,[])])),
      vanish
    ])
  ]),
  bm:action([
    changeSpeed(spdAbs(0),50),
    wait(45),
    fire(dirAim(0),spdAbs(1),bulletRef(round,[1.5,0])),
    fire(dirAim(0),spdAbs(1),bulletRef(round,[1.25,7])),
    fire(dirAim(0),spdAbs(1),bulletRef(round,[1,14])),
    vanish
  ]),
  round:bullet(dirAim(0),spdAbs(0),[
    action([
      fire(dirAbs($2),spdAbs($1),bullet(dirAim(0),spdAbs(1),[])),
      repeat(10+ $rank*10,[
        action([
          fire(dirSeq(360/(10+ $rank*10)),spdAbs($1),bullet(dirAim(0),spdAbs(1),[]))
        ])
      ]),
      vanish
    ])
  ])
]).
