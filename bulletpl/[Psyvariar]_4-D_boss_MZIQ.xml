bulletML(vertical,[
  eaction(add11,[
    repeat(11,[action([fire(some(dirSeq(30)),some(spdSeq(0)),bullet(none,none,[]))])])
  ]),
  eaction(top,[
    repeat(30,[
      action([
        fire(some(dirSeq(- 11)),some(spdAbs(1+rank)),bullet(none,none,[])),
        actionRef(add11,[]),
        repeat(3,[
          action([
            wait(4-rank*2+rand),
            fire(some(dirSeq(- 5+30)),some(spdAbs(1+rank)),bullet(none,none,[])),
            actionRef(add11,[])
          ])
        ]),
        wait(4-rank*2+rand)
      ])
    ]),
    wait(30-rank*30)
  ])
]).
