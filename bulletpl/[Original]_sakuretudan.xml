bulletML(none,[
  eaction(top,[
    repeat(10,[
      action([
        fire(some(dirAim(rand*360)),some(spdAbs(2)),bullet(none,none,[
          action([
            changeDirection(dirAim(0),60),
            wait(60),
            repeat(15+rank*20,[
              action([
                repeat(2,[
                  action([
                    fire(some(dirAim(360*rand)),some(spdAbs(5)),bullet(none,none,[
                      action([
                        wait(rand*5),
                        fire(none,some(spdAbs(rand*4+0.5)),bullet(none,none,[])),
                        vanish
                      ])
                    ]))
                  ])
                ]),
                wait(1)
              ])
            ]),
            vanish
          ])
        ])),
        wait(60)
      ])
    ]),
    wait(100)
  ])
]).
