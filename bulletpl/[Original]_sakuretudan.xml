bulletML(none,[
  top:action([
    repeat(10,[
      action([
        fire(dirAim($rand*360),spdAbs(2),bullet(dirAim(0),spdAbs(1),[
          action([
            changeDirection(dirAim(0),60),
            wait(60),
            repeat(15+ $rank*20,[
              action([
                repeat(2,[
                  action([
                    fire(dirAim(360* $rand),spdAbs(5),bullet(dirAim(0),spdAbs(1),[
                      action([
                        wait($rand*5),
                        fire(dirAim(0),spdAbs($rand*4+0.5),bullet(dirAim(0),spdAbs(1),[])),
                        vanish
                      ])
                    ]))
                  ])
                ]),
                wait(1)
              ])
            ]),
            vanish
          ])
        ])),
        wait(60)
      ])
    ]),
    wait(100)
  ])
]).
