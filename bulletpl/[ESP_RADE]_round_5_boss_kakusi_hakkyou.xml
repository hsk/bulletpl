bulletML(none,[
  ebullet('6shots',bullet(none,some(spdAbs(3)),[
    action([
      wait(3),
      repeat(2,[
        action([
          fire(some(dirAim(- 15+30*rand)),some(spdAbs(0.8+rank+rand)),bullet(none,none,[]))
        ])
      ]),
      repeat(2,[
        action([
          fire(some(dirAim(- 45+30*rand)),some(spdAbs(0.8+rank+rand)),bullet(none,none,[]))
        ])
      ]),
      repeat(2,[
        action([
          fire(some(dirAim(15+30*rand)),some(spdAbs(0.8+rank+rand)),bullet(none,none,[]))
        ])
      ]),
      vanish
    ])
  ])),
  ebullet(kakusi,bullet(none,some(spdAbs(6)),[
    action([
      changeSpeed(spdAbs(0),10),
      wait(10),
      repeat(4+rank*6,[
        action([
          fire(some(dirAim(90)),none,bulletRef('6shots',[])),
          fire(some(dirAim(- 90)),none,bulletRef('6shots',[])),
          wait(200 div (4+rank*6))
        ])
      ]),
      vanish
    ])
  ])),
  eaction(top,[
    fire(some(dirAbs(90)),none,bulletRef(kakusi,[])),
    fire(some(dirAbs(270)),none,bulletRef(kakusi,[])),
    wait(200)
  ])
]).
