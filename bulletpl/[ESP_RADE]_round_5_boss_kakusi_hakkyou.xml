bulletML(none,[
  '6shots':bullet(dirAim(0),spdAbs(3),[
    action([
      wait(3),
      repeat(2,[
        action([
          fire(dirAim(- 15+30* $rand),spdAbs(0.8+ $rank+ $rand),bullet(dirAim(0),spdAbs(1),[]))
        ])
      ]),
      repeat(2,[
        action([
          fire(dirAim(- 45+30* $rand),spdAbs(0.8+ $rank+ $rand),bullet(dirAim(0),spdAbs(1),[]))
        ])
      ]),
      repeat(2,[
        action([
          fire(dirAim(15+30* $rand),spdAbs(0.8+ $rank+ $rand),bullet(dirAim(0),spdAbs(1),[]))
        ])
      ]),
      vanish
    ])
  ]),
  kakusi:bullet(dirAim(0),spdAbs(6),[
    action([
      changeSpeed(spdAbs(0),10),
      wait(10),
      repeat(4+ $rank*6,[
        action([
          fire(dirAim(90),spdAbs(1),bulletRef('6shots',[])),
          fire(dirAim(- 90),spdAbs(1),bulletRef('6shots',[])),
          wait(200/(4+ $rank*6))
        ])
      ]),
      vanish
    ])
  ]),
  top:action([
    fire(dirAbs(90),spdAbs(1),bulletRef(kakusi,[])),
    fire(dirAbs(270),spdAbs(1),bulletRef(kakusi,[])),
    wait(200)
  ])
]).
