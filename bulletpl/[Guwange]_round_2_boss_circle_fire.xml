bulletML(vertical,[
  efire(circle,fire(some(dirSeq($1)),some(spdAbs(6)),bullet(none,none,[
    action([
      wait(3),
      fire(some(dirAbs($2)),some(spdAbs(1.5+rank)),bullet(none,none,[])),
      vanish
    ])
  ]))),
  eaction(fireCircle,[repeat(18,[action([fireRef(circle,[20,$1])])])]),
  eaction(top,[
    repeat(50,[action([actionRef(fireCircle,[180-45+90*rand]),wait(12-rank*4)])]),
    wait(100)
  ])
]).
