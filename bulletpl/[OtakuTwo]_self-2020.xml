bulletML(vertical,[
  eaction(top,[
    changeDirection(dirAbs(0),1),
    wait(1),
    changeSpeed(spdAbs(5),1),
    wait(15),
    changeSpeed(spdAbs(0),1),
    repeat(45,[action([fireRef(seed,[1]),fireRef(seed,[- 1]),wait(30)])]),
    wait(450)
  ]),
  efire(seed,fire(some(dirAbs(90* $1)),some(spdAbs(1.5-rank*0.5)),bullet(none,none,[
    action([
      wait(rand*(30-rank*15)),
      repeat(9999,[
        action([
          fire(some(dirAbs(180)),some(spdAbs(1)),bulletRef(bomb,[])),
          wait(30-rank*15)
        ])
      ])
    ])
  ]))),
  ebullet(bomb,bullet(none,none,[
    action([
      wait(225),
      fire(some(dirAim(- 20+(rand-0.5)*rank*rank*rank*rank*rank*rank*rank*rank*20)),some(spdAbs(1.5+rank*rank)),bullet(none,none,[])),
      repeat(2,[
        action([fire(some(dirSeq(20)),some(spdAbs(1.5+rank*rank)),bullet(none,none,[]))])
      ])
    ])
  ]))
]).
