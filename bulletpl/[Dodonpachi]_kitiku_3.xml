bulletML(none,[
  eaction(top1,[
    repeat(200+rank*200,[
      action([
        fire(some(dirAim(- 50+rand*100)),some(spdAbs(1.6)),bullet(none,none,[])),
        wait(2-rank+rand)
      ])
    ])
  ]),
  ebullet(kobati,bullet(none,none,[
    action([
      wait($1),
      repeat(20,[
        action([
          fire(some(dirAim(0)),some(spdAbs(1.6)),bullet(none,none,[])),
          wait((16-rank*8)*3)
        ])
      ]),
      vanish
    ])
  ])),
  eaction(top2,[
    repeat(8+rank*8,[
      action([
        fire(some(dirAim(80)),some(spdAbs(1.5)),bulletRef(kobati,[(16-rank*8)*3])),
        fire(some(dirAim(- 80)),some(spdAbs(1.5)),bulletRef(kobati,[(16+rank*8)*3])),
        wait(16-rank*8),
        fire(some(dirAim(80)),some(spdAbs(1.5)),bulletRef(kobati,[(16-rank*8)*2])),
        fire(some(dirAim(- 80)),some(spdAbs(1.5)),bulletRef(kobati,[(16-rank*8)*2])),
        wait(16-rank*8),
        fire(some(dirAim(80)),some(spdAbs(1.5)),bulletRef(kobati,[16-rank*8])),
        fire(some(dirAim(- 80)),some(spdAbs(1.5)),bulletRef(kobati,[16-rank*8])),
        wait(16-rank*8)
      ])
    ]),
    wait(120)
  ])
]).
