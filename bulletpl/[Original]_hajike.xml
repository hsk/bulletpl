bulletML(vertical,[
  eaction(top,[
    repeat(2,[
      action([
        fire(some(dirAbs(180-60)),none,bulletRef(wave,[5,42])),
        wait(30-15*rank),
        fire(some(dirAbs(180+60)),none,bulletRef(wave,[- 5,- 42])),
        wait(30-15*rank),
        fire(some(dirAbs(180-62)),none,bulletRef(wave,[5,40])),
        wait(30-15*rank),
        fire(some(dirAbs(180+62)),none,bulletRef(wave,[- 5,- 40])),
        wait(30-15*rank),
        fire(some(dirAbs(180-58)),none,bulletRef(wave,[5,40])),
        wait(30-15*rank),
        fire(some(dirAbs(180+58)),none,bulletRef(wave,[- 5,- 40])),
        wait(30-15*rank)
      ])
    ]),
    wait(300-50*rank)
  ]),
  ebullet(wave,bullet(none,some(spdAbs(1.0)),[
    action([
      fire(some(dirRel($2)),some(spdAbs(0.3)),bulletRef(cross,[])),
      wait(3),
      repeat(10+20*rank*rank,[
        action([fire(some(dirSeq($1)),some(spdSeq(0.05)),bulletRef(cross,[])),wait(3)])
      ]),
      vanish
    ])
  ])),
  ebullet(cross,bullet(none,none,[
    action([
      wait(100),
      fire(some(dirRel(0)),some(spdRel(0.6*rank)),bullet(none,none,[])),
      fire(some(dirRel(90)),some(spdRel(0.6*rank)),bullet(none,none,[])),
      fire(some(dirRel(180)),some(spdRel(0.6*rank)),bullet(none,none,[])),
      fire(some(dirRel(270)),some(spdRel(0.6*rank)),bullet(none,none,[])),
      vanish
    ])
  ]))
]).
