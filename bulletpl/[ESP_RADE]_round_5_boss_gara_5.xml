bulletML(none,[
  eaction(accel,[changeDirection(dirAim(360*rand),1),changeSpeed(spdAbs(0.5+rand*0.5),1)]),
  eaction(stop,[changeSpeed(spdAbs(0),1)]),
  eaction(stopAndWait,[actionRef(stop,[]),wait(70-rank*50)]),
  eaction(ippon,[
    repeat(26,[action([fire(some(dirSeq(0)),some(spdSeq(0.12)),bullet(none,none,[]))])])
  ]),
  eaction(murasaki,[
    fire(some(dirAbs($2)),some(spdAbs(0.8)),bullet(none,none,[])),
    repeat(3+rand*17,[
      action([
        actionRef(ippon,[]),
        wait(6),
        fire(some(dirSeq($1)),some(spdAbs(0.8)),bullet(none,none,[]))
      ])
    ])
  ]),
  eaction(ao,[
    repeat(3+rand*17,[
      action([
        fire(none,some(spdAbs(0.8)),bullet(none,none,[])),
        actionRef(ippon,[]),
        wait(6)
      ])
    ])
  ]),
  eaction(gara5,[
    repeat(2,[
      action([
        actionRef(accel,[]),
        actionRef(murasaki,[5,180-rand*90]),
        actionRef(stopAndWait,[]),
        actionRef(accel,[]),
        actionRef(ao,[]),
        actionRef(stopAndWait,[]),
        actionRef(accel,[]),
        actionRef(murasaki,[- 5,180+rand*90]),
        actionRef(stopAndWait,[]),
        actionRef(accel,[]),
        actionRef(ao,[]),
        actionRef(stopAndWait,[])
      ])
    ])
  ]),
  eaction(top,[actionRef(gara5,[])])
]).
