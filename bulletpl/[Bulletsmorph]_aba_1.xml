bulletML(vertical,[
  top:action([
    repeat(5,[
      action([
        fire(dirAbs(360* $rand),spdAbs(1),bulletRef(add2way,[])),
        repeat(71,[action([fire(dirSeq(5),spdAbs(1),bulletRef(add2way,[]))])]),
        wait(30-20* $rank)
      ])
    ]),
    wait(100)
  ]),
  add2way:bullet(dirAim(0),spdAbs(2.4*(0.25+0.75* $rank)),[
    action([
      wait((24+6* $rand)/(2.4*(0.25+0.75* $rank))),
      fire(dirRel(17),spdRel(0),bullet(dirAim(0),spdAbs(1),[])),
      fire(dirRel(- 17),spdRel(0),bullet(dirAim(0),spdAbs(1),[]))
    ])
  ])
]).
