bulletML(vertical,[
  eaction(top,[
    fire(some(dirAbs(120)),none,bulletRef(bit,[90,1.0])),
    wait(10),
    fire(some(dirAbs(150)),none,bulletRef(bit,[70,1.2])),
    wait(10),
    fire(some(dirAbs(180)),none,bulletRef(bit,[50,1.4])),
    wait(10),
    fire(some(dirAbs(210)),none,bulletRef(bit,[30,1.6])),
    wait(10),
    fire(some(dirAbs(240)),none,bulletRef(bit,[10,1.8])),
    wait(300-100*rank)
  ]),
  ebullet(bit,bullet(none,some(spdAbs(2.5)),[
    action([
      wait(30),
      changeSpeed(spdAbs(0),1),
      wait($1),
      fire(some(dirAim(0)),some(spdAbs($2*(0.5+0.5*rank))),bullet(none,none,[])),
      repeat(19+100*rank,[
        action([
          fire(some(dirSeq(360 div (19+100*rank))),some(spdAbs($2*(0.5+0.5*rank))),bullet(none,none,[]))
        ])
      ]),
      vanish
    ])
  ]))
]).
