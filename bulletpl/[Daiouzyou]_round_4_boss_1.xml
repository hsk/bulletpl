bulletML(vertical,[
  'Stop':action([changeSpeed(spdAbs(0),1)]),
  'Dummy':bullet(dirAim(0),spdAbs(1),[action([vanish])]),
  seed:bullet(dirAim(0),spdAbs(4),[
    action([
      wait(10),
      actionRef('Stop',[]),
      repeat(20,[
        action([
          wait(20),
          repeat(3,[
            action([
              fire(dirSeq(116+ $rand*6- $rank*15),spdAbs(1.5),bullet(dirAim(0),spdAbs(1),[])),
              repeat(3.5+ $rank*5,[action([fire(dirSeq(3),spdAbs(1.5),bullet(dirAim(0),spdAbs(1),[]))])])
            ])
          ])
        ])
      ]),
      vanish
    ])
  ]),
  xway:action([
    fire(dirAim(- 7* $1-7),spdAbs(1),bulletRef('Dummy',[])),
    repeat($1,[
      action([
        fire(dirSeq(15),spdAbs(1.3),bullet(dirAim(0),spdAbs(1),[action([])])),
        repeat(4,[
          action([fire(dirSeq(0),spdSeq(0.1),bullet(dirAim(0),spdAbs(1),[action([])]))])
        ])
      ])
    ])
  ]),
  top:action([
    fire(dirAbs(110),spdAbs(1),bulletRef(seed,[])),
    fire(dirAbs(- 110),spdAbs(1),bulletRef(seed,[])),
    wait(400)
  ])
]).
